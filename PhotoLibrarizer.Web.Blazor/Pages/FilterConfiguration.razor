@page "/FilterConfiguration"
@using PhotoLibrarizer.Web.Blazor.Models
<h3>FilterConfiguration</h3>

@code {
    
}

<div>

    <div class="form-group">
        <label for="extensions">Base-Path (destination for files):</label>
        <input id="extensions" class="form-control" @bind="filterModel.DestinationModel.BasePath" />
    </div>
    
    
    <div class="form-group">
        <label for="extensions">Base-Path TypeOfSaving:</label>
        <select class="form-control" @bind="Value">
            @foreach (var destination in Enum.GetValues(typeof(DestinationsWebEnum)))
            {
                <option value="@destination">@destination.ToString()</option>
            }
        </select>
    </div>
    @code {
        [Parameter] public string Value { get; set; }
    }
    
    
    <div class="form-group">
        <label for="extensions">Extensions:</label>
        <input id="extensions" class="form-control" @bind="concatenatedExtensions" />
    </div>
    
  @page "/stringlist"
  
  <h3>String List</h3>
  
  <div class="mb-3">
      <input @bind="newItem" @oninput="UpdateNewItem" placeholder="Enter a new string" />
      <button class="btn btn-primary" @onclick="AddItem">Add</button>
  </div>
  
  <div>
      <table class="table table-bordered">
          <thead>
              <tr>
                  <th>Select</th>
                  <th>String</th>
                  <th>Delete</th>
              </tr>
          </thead>
          <tbody>
              @foreach (var item in items)
              {
                  <tr>
                      <td>
                          <input type="checkbox" @bind="item.Selected" />
                      </td>
                      <td>@item.Value</td>
                      <td>
                          <button class="btn btn-danger" @onclick="() => DeleteItem(item)">Delete</button>
                      </td>
                  </tr>
              }
          </tbody>
      </table>
      <button class="btn btn-danger" @onclick="DeleteSelectedItems">Delete Selected</button>
  </div>
  
  @code {
      private List<ListItem> items = new List<ListItem>();
      private string newItem = "";
  
      private class ListItem
      {
          public string Value { get; set; }
          public bool Selected { get; set; }
      }
  
      private void UpdateNewItem(ChangeEventArgs e)
      {
          newItem = e.Value.ToString();
      }
  
      private void AddItem()
      {
          if (!string.IsNullOrWhiteSpace(newItem))
          {
              items.Add(new ListItem { Value = newItem });
              newItem = "";
          }
      }
  
      private void DeleteItem(ListItem item)
      {
          items.Remove(item);
      }
  
      private void DeleteSelectedItems()
      {
          items.RemoveAll(item => item.Selected);
      }
  }

    <!--
<div class="form-group">
    <label for="pathsForSourceFiles">Paths for Source Files:</label>
    <input id="pathsForSourceFiles" class="form-control" @bind="filterModel.PathsForSourceFiles" />
</div>
   
<div class="form-group">
    <label for="camerasShouldBe">Cameras Should Be:</label>
    <input id="camerasShouldBe" class="form-control" @bind="filterModel.CamerasShouldBe" />
</div>
   
<div class="form-group">
    <label for="camerasShouldNotBe">Cameras Should Not Be:</label>
    <input id="camerasShouldNotBe" class="form-control" @bind="filterModel.CamerasShouldNotBe" />
</div>
   
<div class="form-group">
    <label for="maxFiles">Max Files:</label>
    <input id="maxFiles" class="form-control" @bind="filterModel.MaxFiles" />
</div>
   
<div class="form-group">
    <label for="basePath">Base Path:</label>
    <input id="basePath" class="form-control" @bind="filterModel.DestinationModel.BasePath" />
</div>
   
<div class="form-group">
    <label for="destination">Destination:</label>
    <select id="destination" class="form-control" @bind="filterModel.DestinationModel.Destination">
        <option value="BaseLibraryWithoutDate">Base Library Without Date</option>
        <option value="BaseLibraryWithDate">Base Library With Date</option>
        <option value="CameraBasedDirectoryWithoutDate">Camera Based Directory Without Date</option>
        <option value="CameraBasedDirectoryWithDate">Camera Based Directory With Date</option>
    </select>
</div>
   
<button class="btn btn-primary" @onclick="SaveConfiguration">Save Configuration</button>

-->
   
    @code {
        private FilterWebModel filterModel = new FilterWebModel();
        protected string concatenatedExtensions = string.Empty;
        
        // on init
        protected override void OnInitialized()
        {
            
        }
   
        private void SaveConfiguration()
        {
        // Implement your logic to save the configuration here
        // You can access the filterModel with the entered values
        }
    } 
</div>